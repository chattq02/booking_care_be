// =========================
// BẢNG CƠ SỞ Y TẾ (MEDICAL FACILITY)
// =========================

enum MedicalFacilityStatus {
  Active
  InActive
}

model MedicalFacility {
  id          Int      @id @default(autoincrement()) // Khóa chính
  uuid        String   @unique @default(uuid()) // Mã định danh duy nhất
  name        String   @unique @db.VarChar(255) // Tên cơ sở (VD: Bệnh viện Trung ương, Phòng khám ABC)
  code        String?  @unique @db.VarChar(100) // Mã cơ sở (VD: BV001, PK002)
  address     String?  @db.VarChar(500) // Địa chỉ cụ thể
  phone       String?  @db.VarChar(100) // Số điện thoại liên hệ
  email       String?  @db.VarChar(255) // Email liên hệ
  website     String?  @db.VarChar(255) // Website (nếu có)
  description String?  @db.VarChar(1000) // Mô tả thêm
   province    String? @db.VarChar(255)  // ✅ tỉnh
  district    String? @db.VarChar(255) // ✅ huyện
  ward        String? @db.VarChar(255)  // ✅ quận
  imageUrl    String?  // Hình ảnh logo / mặt tiền cơ sở
  isActive    MedicalFacilityStatus  @default(Active) // Còn hoạt động hay không

  // -------------------
  // QUAN HỆ
  // -------------------
  departments Department[] // 1 cơ sở có nhiều chuyên khoa
  doctors     User[]       @relation("FacilityDoctors") // Nhiều bác sĩ thuộc nhiều cơ sở

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("medical_facilities")
}
